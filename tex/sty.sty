\usepackage[a4paper]{geometry}
\geometry{a4paper, top=1.3in, bottom=1.3in, left=1in, right=1in}
\usepackage{amsfonts}
\usepackage{listings}
\usepackage{color}
\usepackage{setspace}
\usepackage[colorlinks=true, linkcolor=blue, urlcolor=blue]{hyperref}
\usepackage{acro}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{cancel}
\usepackage{tikz}
\usepackage{tcolorbox} % Основной пакет
\tcbuselibrary{theorems,listings,skins,breakable} % Библиотека для теорем
\usepackage{amssymb} % Для символа \blacksquare
\usepackage{xcolor}
\usepackage{listings}
\usetikzlibrary{calc,trees,positioning,arrows,chains,shapes.geometric,%
    decorations.pathreplacing,decorations.pathmorphing,shapes,%
    matrix,shapes.symbols}

\usepackage[utf8]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[english, russian]{babel}

\definecolor{DarkerGreen}{RGB}{0,179,45}

\newtheorem{exmp}{Example}[section]

\newcommand{\codeExample}[2]{
	\begin{exmp}
      #1
      \noindent\begin{minipage}{\linewidth}
      \begin{lstlisting}[style=python]
          #2
      \end{lstlisting}
      \end{minipage}
    \end{exmp}
}

\newcommand\MyLBrace[2]{%
  \left.\rule{0pt}{#1}\right\}\text{#2}}
  
\tikzset{
>=stealth',
  punktchain/.style={
    rectangle, 
    rounded corners, 
    draw=black, very thick,
    text width=10em, 
    minimum height=3em, 
    text centered, 
    on chain},
  line/.style={draw, thick, <-},
  element/.style={
    tape,
    top color=white,
    bottom color=blue!50!black!60!,
    minimum width=8em,
    draw=blue!40!black!90, very thick,
    text width=10em, 
    minimum height=3.5em, 
    text centered, 
    on chain},
  every join/.style={->, thick,shorten >=1pt},
  decoration={brace},
  tuborg/.style={decorate},
  tubnode/.style={midway, right=2pt},
}
\usepackage{verbatim}
\usepackage{csquotes}
\usepackage[backend=biber, style=gost-numeric]{biblatex}
\addbibresource{books/ts_course.bib}


\newtcblisting[%
  auto counter, % Автонумерация
  number within=section, % Нумерация в пределах секции
  list inside=lol % Для списка листингов (если нужно)
]{pythonexample}{%
  colback=white,
  colframe=black,
  listing only,
  listing options={%
    language=Python,
    basicstyle=\ttfamily\small,
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{red}
  }
}

% Команда для вставки кода
\NewDocumentCommand{\pythoncode}{O{} m m}{%
  \begin{pythonexample}[#1]
    #3
  \end{pythonexample}%
}